var currencyCalculator={vars:{rate:{from:1,to:1}},events:{keyup:new Event("keyup"),change:new Event("change")},init:function(){currencyCalculator.setup("to","from"),currencyCalculator.setup("from","to")},setup:function(e,r){var t={input:document.getElementById("currency-"+e+"__amount"),otherInput:document.getElementById("currency-"+r+"__amount"),event:new Event("change")};t.input.addEventListener("keyup",function(e){console.log("keyup"),console.log(currencyCalculator.vars.rate.from),console.log(currencyCalculator.vars.rate.to),(e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||110===e.which||190===e.which)&&t.input.dispatchEvent(currencyCalculator.events.change)}),t.input.addEventListener("blur",function(e){console.log("blur"),console.log(currencyCalculator.vars.rate.from),console.log(currencyCalculator.vars.rate.to),this.value=parseFloat(this.value).toFixed(2),t.input.dispatchEvent(currencyCalculator.events.change)}),t.input.addEventListener("change",function(c){console.log("change"),console.log(currencyCalculator.vars.rate.from),console.log(currencyCalculator.vars.rate.to),t.otherInput.value=parseFloat(this.value*currencyCalculator.vars.rate[r]/currencyCalculator.vars.rate[e]).toFixed(2)})}};currencyCalculator.init();