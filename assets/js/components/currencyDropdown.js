var currencyDropdown={vars:{shownList:0,rate:{from:1,to:10}},init:function(){currencyDropdown.setup("from","to"),currencyDropdown.setup("to","from")},setup:function(e,t){for(var n={direction:e,input:document.getElementById("currency-"+e),label:document.getElementById("currency-"+e+"__dropdown-label"),otherLabel:document.getElementById("currency-"+t+"__dropdown-label"),list:document.getElementById("currency-"+e+"__list"),otherList:document.getElementById("currency-"+t+"__list"),currencies:document.querySelectorAll("#currency-"+e+"__list button"),event:new Event("input")},r=0;r<n.currencies.length;r++)n.currencies[r].addEventListener("click",function(e){e.preventDefault(),currencyDropdown.makeSelection(n,this),currencyDropdown.hideList(n.list,n.label),c.input.dispatchEvent(c.event)}),r===n.currencies.length-1&&("from"===e?(currencyDropdown.makeSelection(n,n.currencies[0]),n.input.value=""):(currencyDropdown.makeSelection(n,n.currencies[1]),n.input.value=""));n.label.addEventListener("click",function(e){"block"===n.list.style.display?currencyDropdown.hideList(n.list,n.label):currencyDropdown.showList(n)}),n.input.addEventListener("input",function(){typeAhead.filter({input:n.input,targets:n.currencies}),currencyDropdown.toggleIcon(n)}),n.input.labels[0].addEventListener("click",function(){n.input.value="",n.input.dispatchEvent(n.event)});var c={input:document.getElementById("currency-"+e+"__amount"),otherInput:document.getElementById("currency-"+t+"__amount"),event:new Event("change")};c.input.value=currencyDropdown.vars.rate[e],c.input.addEventListener("keyup",function(e){(e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||110===e.which||190===e.which)&&c.input.dispatchEvent(c.event)}),c.input.addEventListener("blur",function(e){this.value=parseFloat(this.value).toFixed(2),c.input.dispatchEvent(c.event)}),c.input.addEventListener("change",function(n){this.getAttribute("data-operation");c.otherInput.value=parseFloat(this.value*currencyDropdown.vars.rate[t]/currencyDropdown.vars.rate[e]).toFixed(2)})},toggleIcon:function(e){e.input.value.length?e.input.labels[0].classList.add("active"):e.input.labels[0].classList.remove("active")},hideList:function(e,t){console.log(e,t),currencyDropdown.vars.shownList=0,e.style.display="none",t.classList.remove("active")},showList:function(e){currencyDropdown.hideList(e.otherList,e.otherLabel),currencyDropdown.vars.shownList=e.list,e.list.style.display="block",e.label.classList.add("active")},makeSelection:function(e,t){currencyDropdown.hideList(e.list,e.label),currencyDropdown.vars.rate[e.direction]=Number(t.getAttribute("data-rate"));var n='<img src="assets/img/flags/'+t.getAttribute("data-country")+'.png" alt="" class="hero__calculator-flag"><span class="input-group-text">'+t.value+"</span>";e.input.value=t.name,e.input.dispatchEvent(e.event),e.label.innerHTML=n},calculate:function(){}};currencyDropdown.init();